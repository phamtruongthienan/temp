var app=app||{};app.init=function(){changeImage("#logoImage",'input[id="logoFile"]'),$("[data-mask]").inputmask(),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(a){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()}),$(".single-select2").select2({placeholder:"Chọn"}),$("#modal-partner-add, #modal-partner-edit").on("show.bs.modal",function(a){$('input[type="checkbox"]').length>0&&$('input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_minimal-blue"})});$(".table-dynamic-partner").DataTable({processing:!0,serverSide:!0,ajax:base_admin+"/ajax/client",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,order:[[0,"desc"]],columns:[{data:"id"},{data:"name"},{data:"address"},{data:"email"},{data:"phone"},{data:"status"},{data:"email"},{data:"action"}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"150px",targets:[3,4,5,6],class:"text-center"},{width:"100px",targets:[0],class:"text-center"},{width:"300px",targets:[2],class:"text-ellipsis"},{width:"200px",targets:[-1],class:"text-center"}]});$("#addPartnerForm").validator().on("submit",function(a){$("#addPartnerBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#addPartnerBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg").removeClass("no-display"),$("#addPartnerBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$("#editPartnerForm").validator().on("submit",function(a){$("#editPartnerBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#editPartnerBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg_edit").removeClass("no-display"),$("#editPartnerBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$(document).on("click",".table-action-delete",function(a){a.preventDefault();var b=$(this),c=$(this).parents("table").DataTable();$("#confirm-delete-modal").modal({backdrop:"static",keyboard:!1}).one("click","#confirm-delete",function(a){c.row(b.parents("tr")).remove().draw()})}),$(document).on("click",".table-dynamic-partner .table-action-edit",function(a){a.preventDefault();$(this).data("id");$("#modal-partner-edit").modal("show")}),$(document).on("click","#addPartner",function(a){a.preventDefault(),$("#modal-partner-add").modal("show")}),$(document).on("click","#addPartnerBtn",function(a){a.preventDefault(),$("#addPartnerForm").submit()}),$(document).on("click","#editPartnerBtn",function(a){a.preventDefault(),$("#editPartnerForm").submit()})},app.clearForm=function(a){$("#modal-advertise #action").val(a),$("#modal-advertise #id").val(""),$("#modal-advertise #type").val(1).trigger("change"),$("#modal-advertise #content").summernote("code",""),$("#modal-advertise #logoImage").attr("src",base_url+"/assets/backend/img/no_image.png"),$("#modal-advertise #image_hash").val(""),$("#modal-advertise #position").val(null).trigger("change"),$("#modal-advertise #target").val(null).trigger("change"),$("#modal-advertise #link").val(""),$("#modal-advertise #start_date").val(""),$("#modal-advertise #end_date").val(""),$("#modal-advertise #status").iCheck("uncheck")},$(function(){app.init()});
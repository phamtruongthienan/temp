var app=app||{};app.init=function(){$(".textarea").wysihtml5(),app.changeUrl($("#inputAddName"),$("#inputAddSEO")),app.changeUrl($("#inputAddSEO"),$("#inputAddSEO")),app.changeUrl($("#inputEditName"),$("#inputEditSEO")),app.changeUrl($("#inputEditSEO"),$("#inputEditSEO")),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(a){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()}),$(".modal").on("show.bs.modal",function(a){$('input[type="radio"], input[type="checkbox"]').length>0&&$('input[type="radio"], input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"}),$(".select2").select2()});$(".table-dynamic-news").DataTable({processing:!0,ajax:"/data/news.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"name"},{data:"layout"},{data:"active"},{data:null}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"200px",targets:[-1,2]},{width:"100px",targets:[0,-2],class:"text-center"},{targets:[-1],class:"text-center",orderable:!1,render:function(a,b,c,d){return'<a class="table-action table-action-edit text-green cursor-pointer" data-id="'+a.id+'"><i class="fa fa-edit"></i></a> <a class="table-action text-red table-action-delete cursor-pointer" data-id="'+a.id+'"><i class="fa fa-trash"></i></a>'}},{targets:[-2],render:function(a,b,c,d){return 1==a?'<i class="fas fa-check-circle text-green"></i>':""}}]});$("#addNewsForm").validator().on("submit",function(a){$("#addNewsBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#addNewsBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg").removeClass("no-display"),$("#addNewsBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$("#editNewsForm").validator().on("submit",function(a){$("#editNewsBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#editNewsBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg_edit").removeClass("no-display"),$("#editNewsBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$(document).on("click",".table-action-delete",function(a){a.preventDefault();var b=$(this),c=$(this).parents("table").DataTable();$("#confirm-delete-modal").modal({backdrop:"static",keyboard:!1}).one("click","#confirm-delete",function(a){c.row(b.parents("tr")).remove().draw()})}),$(document).on("click",".table-action-edit",function(a){a.preventDefault();$(this).data("id");$("#modal-news-edit").modal("show")}),$(document).on("click","#addNews",function(a){a.preventDefault(),$("#modal-news-add").modal("show")}),$(document).on("click","#addNewsBtn",function(a){a.preventDefault(),$("#addNewsForm").submit()}),$(document).on("click","#editNewsBtn",function(a){a.preventDefault(),$("#editNewsForm").submit()})},app.xoa_dau=function(a){return a=a.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),a=a.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),a=a.replace(/ì|í|ị|ỉ|ĩ/g,"i"),a=a.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),a=a.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),a=a.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),a=a.replace(/đ/g,"d")},app.string_to_slug=function(a){return a=a.replace(/^\s+|\s+$/g,""),a=a.toLowerCase(),a=app.xoa_dau(a),a=a.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},app.changeUrl=function(a,b){a.keyup(function(){var a=$(this).val(),c=app.string_to_slug(a);b.val(c)})},$(function(){app.init()});
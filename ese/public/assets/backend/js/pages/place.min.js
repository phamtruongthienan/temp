var app=app||{};app.init=function(){$(".select2").select2(),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(a){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()});$(".table-dynamic-place").DataTable({processing:!0,ajax:"/data/place.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"city"},{data:null}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"100px",targets:[0],class:"text-center"},{width:"200px",targets:[-1],orderable:!1,class:"text-center",render:function(a,b,c,d){return'<a class="table-action table-action-edit text-green cursor-pointer" data-id="'+a.id+'"><i class="fa fa-edit"></i></a> <a class="table-action text-red table-action-delete cursor-pointer" data-id="'+a.id+'"><i class="fa fa-trash"></i></a>'}}]}),$(".table-dynamic-district").DataTable({processing:!0,ajax:"/data/place.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"district"},{data:null}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"100px",targets:[0],class:"text-center"},{width:"200px",targets:[-1],orderable:!1,class:"text-center",render:function(a,b,c,d){return'<a class="table-action table-action-edit text-green cursor-pointer" data-id="'+a.id+'"><i class="fa fa-edit"></i></a> <a class="table-action text-red table-action-delete cursor-pointer" data-id="'+a.id+'"><i class="fa fa-trash"></i></a>'}}]}),$(".table-dynamic-ward").DataTable({processing:!0,ajax:"/data/place.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"district"},{data:"ward"},{data:null}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"300px",targets:[2],class:"text-center"},{width:"100px",targets:[0],class:"text-center"},{width:"200px",targets:[-1],orderable:!1,class:"text-center",render:function(a,b,c,d){return'<a class="table-action table-action-edit text-green cursor-pointer" data-id="'+a.id+'"><i class="fa fa-edit"></i></a> <a class="table-action text-red table-action-delete cursor-pointer" data-id="'+a.id+'"><i class="fa fa-trash"></i></a>'}}]});$("#addPlaceForm").validator().on("submit",function(a){$("#addPlaceBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#addPlaceBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg").removeClass("no-display"),$("#addPlaceBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$("#editPlaceForm").validator().on("submit",function(a){$("#editPlaceBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#editPlaceBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg").removeClass("no-display"),$("#editPlaceBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$("#addWardForm").validator().on("submit",function(a){$("#addWardBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#addWardBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg").removeClass("no-display"),$("#addWardBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$(document).on("click",".table-action-delete",function(a){a.preventDefault();var b=$(this),c=$(this).parents("table").DataTable();$("#confirm-delete-modal").modal({backdrop:"static",keyboard:!1}).one("click","#confirm-delete",function(a){c.row(b.parents("tr")).remove().draw()})}),$(document).on("click",".table-dynamic-place .table-action-edit",function(a){a.preventDefault();$(this).data("id");$("#modal-city-edit").modal("show")}),$(document).on("click","#addCity",function(a){a.preventDefault(),$("#modal-city-add").modal("show")}),$(document).on("click","#addDistrict",function(a){a.preventDefault(),$("#modal-district-add").modal("show")}),$(document).on("click","#addWard",function(a){a.preventDefault(),$("#modal-ward-add").modal("show")}),$(document).on("click",".table-dynamic-district .table-action-edit",function(a){a.preventDefault(),$("#modal-district-edit").modal("show")}),$(document).on("click",".table-dynamic-ward .table-action-edit",function(a){a.preventDefault(),$("#modal-ward-edit").modal("show")}),$(document).on("click","#addPlaceBtn",function(a){a.preventDefault(),$("#addPlaceForm").submit()}),$(document).on("click","#editPlaceBtn",function(a){a.preventDefault(),$("#editPlaceForm").submit()}),$(document).on("click","#addWardBtn",function(a){a.preventDefault(),$("#addWardForm").submit()})},$(function(){app.init()});
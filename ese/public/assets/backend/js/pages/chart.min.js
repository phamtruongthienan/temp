var app=app||{};app.init=function(){$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(a){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()});var a=moment().subtract(29,"days"),b=moment();$("#reportrange").daterangepicker({startDate:a,endDate:b,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"This Year":[moment().startOf("year"),moment().endOf("year")],"Last Year":[moment().subtract(1,"year").startOf("year"),moment().subtract(1,"year").endOf("year")]}},app.cb),app.cb(a,b);var c=($(".table-dynamic-search").DataTable({processing:!0,ajax:"/data/chart.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"keyword"},{data:"times"}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"100px",targets:[0,2],class:"text-center"}]}),$(".table-dynamic-view").DataTable({processing:!0,ajax:"/data/chart.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"school"},{data:"times"}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"100px",targets:[0,2],class:"text-center"}]}),{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Khách hàng đăng ký",backgroundColor:"#3c8dbc",data:[65,59,80,81,56,55,40,28,48,40,19,86]}]}),d={labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Khách hàng book tham quan",backgroundColor:"#3c8dbc",data:[28,48,40,19,86,27,90,65,59,80,81,56]}]},e=$("#barChart").get(0).getContext("2d"),f=$("#barChartVisit").get(0).getContext("2d"),g=c,h=d,i={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,responsive:!0,maintainAspectRatio:!1};i.datasetFill=!1;new Chart(e,{type:"line",data:g,options:i}),new Chart(f,{type:"line",data:h,options:i})},app.cb=function(a,b){$("#reportrange span").html(a.format("MMMM D, YYYY")+" - "+b.format("MMMM D, YYYY"))},$(function(){app.init()});
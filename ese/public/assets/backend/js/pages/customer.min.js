var app=app||{};app.init=function(){$("[data-mask]").inputmask(),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(a){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()}),$("#list-child-modal").on("shown.bs.modal",function(a){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()}),$("#modal-customer-add, #modal-customer-edit, #modal-child-edit").on("show.bs.modal",function(a){$('input[type="radio"]').length>0&&$('input[type="radio"]').iCheck({radioClass:"iradio_minimal-blue"})});$(".table-dynamic-customer").DataTable({processing:!0,ajax:"/data/customer.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"name"},{data:"phone"},{data:"email"},{data:"loginby"},{data:"active"},{data:null}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"150px",targets:[2,3,5],class:"text-center"},{width:"100px",targets:[0,4],class:"text-center"},{width:"200px",targets:[-1],orderable:!1,class:"text-center",render:function(a,b,c,d){return'<a class="table-action table-action-edit text-green cursor-pointer" data-id="'+a.id+'"><i class="fa fa-edit"></i></a> <a class="table-action text-red table-action-delete cursor-pointer" data-id="'+a.id+'"><i class="fa fa-trash"></i></a> <a class="table-action text-aqua table-action-view cursor-pointer" data-id="'+a.id+'"><i class="fa fa-eye"></i></a>'}},{targets:[5],render:function(a,b,c,d){return 1==a?'<i class="fas fa-check-circle text-green"></i>':""}},{targets:[4],render:function(a,b,c,d){switch(a){case"1":return'<i class="table-action fab fa-google-plus text-red"></i>';case"2":return'<i class="table-action fab fa-facebook-square text-blue"></i>';default:return""}}}]}),$(".table-dynamic-child").DataTable({processing:!0,ajax:"/data/child.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"name"},{data:"sex"},{data:"old"},{data:"status"},{data:"desire"},{data:null}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"150px",targets:[2,3],class:"text-center"},{width:"200px",targets:[4,-1],class:"text-center"},{width:"300px",targets:[-2],class:"text-center"},{width:"100px",targets:[0],class:"text-center"},{targets:[-1],orderable:!1,render:function(a,b,c,d){return'<a class="table-action table-action-edit text-green cursor-pointer" data-id="'+a.id+'"><i class="fa fa-edit"></i></a> <a class="table-action text-red table-action-delete cursor-pointer" data-id="'+a.id+'"><i class="fa fa-trash"></i></a>'}}]});$("#addCustomerForm").validator().on("submit",function(a){$("#addCustomerBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#addCustomerBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_customer_msg").removeClass("no-display"),$("#addCustomerBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$("#editCustomerForm").validator().on("submit",function(a){$("#editCustomerBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#editCustomerBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_customer_msg_edit").removeClass("no-display"),$("#editCustomerBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$("#editChildForm").validator().on("submit",function(a){$("#editChildBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#editChildBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_child_msg_edit").removeClass("no-display"),$("#editChildBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$(document).on("click",".table-action-delete",function(a){a.preventDefault();var b=$(this),c=$(this).parents("table").DataTable();$("#confirm-delete-modal").modal({backdrop:"static",keyboard:!1}).one("click","#confirm-delete",function(a){c.row(b.parents("tr")).remove().draw()})}),$(document).on("click",".table-dynamic-customer .table-action-edit",function(a){a.preventDefault();$(this).data("id");$("#modal-customer-edit").modal("show")}),$(document).on("click",".table-dynamic-child .table-action-edit",function(a){a.preventDefault();$(this).data("id");$("#modal-child-edit").modal("show")}),$(document).on("click",".table-action-view",function(a){a.preventDefault();$(this).data("id");$("#list-child-modal").modal("show")}),$(document).on("click","#addCustomer",function(a){a.preventDefault(),$("#modal-customer-add").modal("show")}),$(document).on("click","#addCustomerBtn",function(a){a.preventDefault(),$("#addCustomerForm").submit()}),$(document).on("click","#editCustomerBtn",function(a){a.preventDefault(),$("#editCustomerForm").submit()}),$(document).on("click","#editChildBtn",function(a){a.preventDefault(),$("#editChildForm").submit()})},$(function(){app.init()});